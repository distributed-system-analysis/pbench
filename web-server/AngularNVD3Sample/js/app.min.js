function constructChart(t,e,n,r){d3.csv("csv/"+n+".csv",function(t,e){if(t)return console.log("there was an error loading the csv data from "+n+": "+t);if(0==e.length)return console.log("No data found for "+n);var o=_process_csv_data(e,r);if(void 0===o)return void 0;if(0==o.length)return void 0;for(var a=o[0].values[0][0],i=a,s=0;s<o.length;s++)for(var c=0;c<o[s].values.length;c++)tval=o[s].values[c][0],a>tval&&(a=tval),tval>i&&(i=tval);var u=angular.element(document.getElementById("main")).scope();u.$apply(function(){u.data=o})})}function fetchData(){constructChart("lineWithFocusChart",0,"cpu_all_cpu_busy")}function _process_csv_data(t){var e=Object.keys(t[0]);if(e.length<=1)return console.log("No viable data to graph for "+chart_file_name);if(!e[0].startsWith("timestamp_")&&!e[0].endsWith("_ms"))return console.log("Unrecognized .csv data file format for "+chart_file_name);var n,r,o,a,i={};for(n=0;n<e.length;n++)o=e[n],o.startsWith("timestamp_")&&o.endsWith("_ms")||(i[o]=[]);if(e.length>=4&&e[2].startsWith("timestamp_")&&e[2].endsWith("_ms")){if(e.length%2!=0)return console.log("Even number of columns expected for metrics with their own timestamps for "+chart_file_name);for(r=1;r<t.length;r++)for(n=1;n<e.length;n+=2){if(o=e[n],o.startsWith("timestamp_")&&o.endsWith("_ms"))return console.log("Bug! "+chart_file_name);a=t[r][o],""!=a&&i[o].push([+t[r]["timestamp_"+o+"_ms"],+a])}}else for(r=1;r<t.length;r++)for(n=0;n<e.length;n++)o=e[n],"timestamp_ms"!=o&&(a=t[r][o],""!=a&&i[o].push([+t[r].timestamp_ms,+a]));var s=[];for(n=0;n<e.length;n++)o=e[n],o.startsWith("timestamp_")&&o.endsWith("_ms")||0!=i[o].length&&s.push({key:o,values:i[o]});return s}var app=angular.module("sample",["nvd3"]);app.controller("MainCtrl",function(t){t.options={chart:{type:"lineWithFocusChart",height:450,width:500,focusHeight:50,interactive:!0,showLegend:!0,useInteractiveGuideline:!0,forceX:null,forceY:null,lines2:{forceX:null,forceY:null},margin:{top:20,right:20,bottom:60,left:40},transitionDuration:500,x:function(t){return t[0]},y:function(t){return t[1]},xAxis:{axisLabel:"X Axis",tickFormat:function(t){return d3.format(",f")(t)}},x2Axis:{tickFormat:function(t){return d3.format(",f")(t)}},yAxis:{axisLabel:"Y Axis",tickFormat:function(t){return d3.format(",.2f")(t)},rotateYLabel:!1},y2Axis:{tickFormat:function(t){return d3.format(",.2f")(t)}}}},t.data=null});var colors=d3.scale.category20(),keyColor=function(t){return colors(t.key)},xAccessor=function(t){return t[0]},yAccessor=function(t){return t[1]},customTimeFormat=d3.time.format.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",function(){return!0}]]),xTickFormat=function(t){return customTimeFormat(new Date(t))},yTickFormat=d3.format(",.3f"),xLegendFormat=d3.time.format("%Y-%m-%dT%H:%M:%S");$(function(){$("#button").click(function(){$("#wrapper").slideToggle()})});
//# sourceMappingURL=app.min.js.map