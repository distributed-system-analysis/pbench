[DEFAULT]
# The values here override those in pbench-server-default.cfg.
# An installation must override at least the "example.com"
# host names.
default-host = pbench.example.com
install-dir = /opt/pbench-server

###########################################################################
## Deployment section
###########################################################################
[pbench-server]
pbench-top-dir = /srv/pbench
# Backup dir may be remote NFS mounted
pbench-backup-dir = /mnt/pbench.archive.backup
roles = pbench-maintenance, pbench-prep, pbench-results, pbench-backup
# pbench-server rest api variables
bind_port = 8001
rest_version = 1
rest_max_content_length = 100 * 1024 * 1024
rest_uri = /api/v%(rest_version)s

[pbench-server-backup]
endpoint_url = <the URL of the S3 object store to be used>
access_key_id = <the S3 object store access key ID provided by an administrator>
secret_access_key = <the S3 object store secret access key provided by an administrator>
bucket_name = <the name of an S3 bucket which will contain all of the tar ball objects after they are backed up>

[Indexing]
index_prefix = pbench
bulk_action_count = 2000

[elasticsearch]
host = elasticsearch.example.com
port = 0000

## User authentication section to use when authorizing the user with an OIDC identity provider
[authentication]

# URL of the OIDC auth server with port
server_url = keycloak.example.com:0000

# Realm name that is used for the authentication with OIDC
realm = Pbench

# Client entity name requesting OIDC to authenticate a user
client = Pbench-dashboard

# Client secret if the above client is not public
secret = client-secret

###########################################################################
# crontab roles

###########################################################################
# The rest will come from the default config file.
[config]
path = %(install-dir)s/lib/config
files = pbench-server-default.cfg
